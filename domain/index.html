<!DOCTYPE html>
<html lang="zxx" class="no-js">
<head>
	<!-- Mobile Specific Meta -->

		<script src="../js/vendor/jquery-2.2.4.min.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<!-- Favicon-->
	<!-- meta character set -->
	<meta charset="UTF-8">
	<!-- Site Title -->
	<title>Domain Names | Premium Domain Names | Short Domains</title>

	<link href="https://fonts.googleapis.com/css?family=Poppins:300,500,600,900" rel="stylesheet">
		<!--
		CSS
		============================================= -->
		<link rel="stylesheet" href="../css/linearicons.css">
		<link rel="stylesheet" href="../css/font-awesome.min.css">
		<link rel="stylesheet" href="../css/nice-select.css">
		<link rel="stylesheet" href="../css/magnific-popup.css">
		<link rel="stylesheet" href="../css/bootstrap.css">
		<link rel="stylesheet" href="../css/main.css">


	</head>
	<body>

		<div class="main-wrapper-first relative">

<section class="subscription-area" style="border-bottom: 1px solid rgba(0, 0, 0, 0.125)">
				<div class="container">
					<div id="search" class="row justify-content-center">
						<div class="col-3">
							<a href="../index.html">
								<img class="img-fluid" src="../img/logo.png" alt="TANTRA MEDIA" />
							</a>
						</div>


						<div class="col-8">
							<div id="mc_embed_signup">
								<form novalidate action="" method="get" class="subscription relative">
									<input type="text" name="q" placeholder="eg. MyDomain.com" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Enter a domain name eg ILoveChicago.com'" required>
									<button class="primary-btn"><span>Search</span><span class="lnr lnr-arrow-right"></span></button>
									<div class="info"></div>
								</form>
							</div>
						</div>
					</div>

				</div>
			</section>

		<section class="story-area">
			<div class="container">

				<div class="row justify-content-md-center">
					<div class="col-md-8">
					<div class="alert alert-info" id="status-msg" role="alert">
						Howdy! Please wait while we process your request...
					</div>
					</div>
				</div>

				<div class="row justify-content-md-center" id="contact" style="display:none">

					<div class="col-md-6">

						<div class="card card-body bg-white text-center">

						<h3 class="card-title" id="domain-title">

						</h3>
							<p>

					  <del>
						<span style="font-size: 1.8em; font-weight: 200; color:lightgrey">$100</span>
					  </del>

						<span  class="price" >$69</span>

							</p>
								<div id="paypal-button"></div>

						</div>
					</div>

				</div>
			</div>
		</section>




			<section class="featured-area text-center">
				<div class="container">
					<div class="row">
						<div class="col-md-4">
							<div class="single-feature d-flex flex-wrap justify-content-between">

								<div class="desc">
									<p><span style="font-size:1.3rem" class="lnr lnr-thumbs-up"></span> Accepting Paypal and ensuring a secure and fast payment experience</p>
									<a href="../transact.html">Learn More</a>
								</div>
							</div>
						</div>
						<div class="col-md-4">
							<div class="single-feature d-flex flex-wrap justify-content-between">

								<div class="desc">
									<p><span style="font-size:1.3rem" class="lnr lnr-history"></span> Get started with your domain within 24 hours from purchase</p>
									<a href="../transact.html">Learn More</a>
								</div>
							</div>
						</div>
						<div class="col-md-4">
							<div class="single-feature d-flex flex-wrap justify-content-between">

								<div class="desc">
									<p><span style="font-size:1.3rem" class="lnr lnr-heart"></span> Experienced & professional team dealing with sold 1M+ domains</p>
									<a href="../transact.html">Learn More</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>
		</div>
		<div class="main-wrapper">



			<!-- Start footer Area -->
			<footer class="footer-area text-center">
				<div class="container">
				<div class="row">


						<div class="col-md-4">
							<img class="img-fluid" src="../img/paypal.png" border="0" alt="PayPal Acceptance Mark">
						</div>


					<div class="col-md-4">



					<div class="footer-menu">
							<a href="../transact.html">Secure Transactions</a>
							<a href="../index.html#about">About Us</a>
						</div>
						<div class="footer-social">
							<span class="lnr lnr-phone-handset"></span> +1650-2397232
							<br>
							<span class="lnr lnr-envelope"></span> info@tantra.me

						</div>
						</div>

					<div class="col-md-4">
						<img class="img-fluid" src="../img/logo.png" alt="TANTRA MEDIA" />
					<br>
					<br>

					 #108, 650 Castro St, Mountain View, CA


					</div>

				</div>
				</div>
			</footer>
			<!-- End footer Area -->
		</div>



<script src="https://www.paypalobjects.com/api/checkout.js"></script>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-1944294-8"></script>
  <script>

	//url = 'file:///home/ajf/AJF/ZZZZZZZZZZZZZ/projects/DMonkey/www/website/domain1/index.html'
	//api_url = 'http://localhost:5000'

	url = 'https://tantra.me'
	api_url = 'https://go.tantra.me'

	function getUrlVars() {
    var vars = {};
    var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,
    function(m,key,value) {
      vars[key] = value;
    });
    return vars;
  }



	async function fetchAsync (url) {
	  // await response of fetch call
	  let response = await fetch(url);
	  // only proceed once promise is resolved
	  let data = await response.json();
	  // only proceed once second promise is resolved
	  return data;
	}

	function handle_error(err) {
			console.log(err)
			document.getElementById("status-msg").innerHTML = 'Our server is down at the moment! Please try again later.'
			document.getElementById("status-msg").className = 'alert alert-danger'
	}

	function payment_error() {
					document.getElementById("status-msg").innerHTML = 'You payment attempt has failed! Please try again....'
					document.getElementById("status-msg").className = 'alert alert-danger'

	}

	function handle_response(response) {
			if(response.hasOwnProperty('dn')) {
				var params = getUrlVars();
				document.getElementById("domain-title").innerHTML = response['dn']
				document.getElementById("status-msg").innerHTML = "Great News! <b>" + response['dn'] + '</b> is for sale.'
				document.getElementById("status-msg").className = 'alert alert-success'

    paypal.Button.render({

		locale: 'en_US',
		style: {
		 size: 'responsive',
		 color: 'gold',
		 shape: 'pill',
		 label: 'checkout',
		 tagline: 'true'
		},

        env: 'live', // Or 'sandbox'

        commit: true, // Show a 'Pay Now' button

        payment: function() {
            return paypal.request.post(api_url + '/payment-create', {
                item: response['dn']
            }).then(function(data) {
	            console.log(data);
                return data.i;
            }).catch(err => payment_error());
        },

        onAuthorize: function(data) {
	        console.log(data)
            return paypal.request.post(api_url + '/payment-execute', data).then(function(res) {
            	window.location.replace(url + "/success/?q=" + res['id']);
                console.log(res)
            }).catch(err => payment_error());
        }

    }, '#paypal-button');

    				document.getElementById("contact").style.display = ""

				  window.dataLayer = window.dataLayer || [];
				  function gtag(){dataLayer.push(arguments);}
				  gtag('js', new Date());
				  gtag('config', 'UA-1944294-8');



			} else {
				document.getElementById("status-msg").className = 'alert alert-warning'
				document.getElementById("status-msg").innerHTML = "We could not find any result matching your query <b>" + response['q'] + '</b>, please search again.'
			}
	}

	var params = getUrlVars();
	fetchAsync(api_url + '/domain?q=' + params['q'])
			.then(data => handle_response(data))
			.catch(reason => handle_error(reason))
	</script>



		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
		<script src="../js/vendor/bootstrap.min.js"></script>
		<script src="../js/jquery.nice-select.min.js"></script>
		<script src="../js/jquery.magnific-popup.min.js"></script>
		<script src="../js/main.js"></script>
	</body>
</html>
